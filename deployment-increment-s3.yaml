###
### A complete description of a Prefect Deployment for flow 'increment'
###
name: s3
description: deployment using s3 storage
version: snapshot
# The work queue that will handle this deployment's runs
work_queue_name: kubernetes
tags:
- tag1
parameters:
  i: 1
schedule: null
infra_overrides:
  image: orion-registry:5000/flow:latest
  env:
    AWS_ACCESS_KEY_ID: minioadmin
    AWS_SECRET_ACCESS_KEY: minioadmin

###
### DO NOT EDIT BELOW THIS LINE
###
flow_name: increment
manifest_path: null
infrastructure:
  type: kubernetes-job
  env:
    AWS_ACCESS_KEY_ID: minioadmin
    AWS_SECRET_ACCESS_KEY: minioadmin
  labels: {}
  name: null
  command:
  - python
  - -m
  - prefect.engine
  image: orion-registry:5000/flow:latest
  namespace: default
  service_account_name: null
  image_pull_policy: null
  cluster_config: null
  job:
    apiVersion: batch/v1
    kind: Job
    metadata:
      labels: {}
    spec:
      template:
        spec:
          parallelism: 1
          completions: 1
          restartPolicy: Never
          containers:
          - name: prefect-job
            env: []
  customizations: []
  job_watch_timeout_seconds: 5
  pod_watch_timeout_seconds: 60
  stream_output: true
  _block_document_id: bbe23b10-a612-41d5-95c0-3401575bfb20
  _block_document_name: anonymous-8ad66184-fbff-47d2-8f8d-3116772fe340
  _is_anonymous: true
storage:
  bucket_path: minio-flows/increment
  aws_access_key_id: null
  aws_secret_access_key: null
  _block_document_id: 0ee10d67-4d13-4d5f-8c40-ef27c99abdfc
  _block_document_name: minio-flows-increment
  _is_anonymous: false
  _block_type_slug: s3
path: null
entrypoint: /Users/oliver.mannion/code/orion-demo/flows/param_flow.py:increment
parameter_openapi_schema:
  title: Parameters
  type: object
  properties:
    i:
      title: i
      type: integer
  required:
  - i
  definitions: null
